<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Post page</title>
</head>
<body>
<div>
    <a th:href="@{/}">Go back to main page</a>
    <a th:href="@{/deletePostConfirm/{id}(id=${post.id})}" id="deletePost">Delete this post</a>
    <a th:href="@{/editPost/{id}(id=${post.id})}">Edit this post</a>
    <p>Authors: <span th:each="par : ${pa}" th:if="${par.id_post == post.id}"><a th:each="author : ${authors}" th:href="@{/authorPage/{id}(id=${author.id})}" th:text="${par.id_author == author.id ? author.username : ''} + ${' '}"/></span></p>
    <a th:href="@{/postPage/{id}(id=${post.id})}" th:text = "${post.post_content}"/>
    <p>Attachments: <p th:each="attachment : ${attachments}" th:if="${attachment.id_post == post.id}"><a th:text="${attachment.filename}" th:href="@{/files/{filename}(filename=${attachment.filename})}"/></p></p>
    <p th:text="${'Tags: '} + ${post.tags}"/>
    <p>Comments:</p>
    <div th:each="comment :${comments}" th:if="${post.id == comment.id_post}">
        <a th:href="@{/userPage/{username}(username=${comment.username})}" th:text="${comment.username}"/>
        <p th:text="${comment.comment_content}"/>
        <a th:href="@{/editComment/{id}(id=${comment.id})}">Edit this comment</a>
        <a th:href="@{/deleteCommentConfirm/{id}(id=${comment.id})}">Delete this comment</a>
    </div>
</div>
</body>
</html>